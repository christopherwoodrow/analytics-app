!function(t){"object"==typeof module&&module.exports?module.exports=t:t(Highcharts)}(function(t){function i(t){return void 0!==t&&null!==t}function e(t){var i,e,s=0;for(i=0;i<t.length;i++)e=(i+1)%t.length,s+=t[i].x*t[e].y-t[e].x*t[i].y;return s/2}function s(t){var i,e=0;for(i=0;i<t.length;i++)e+=t[i].z;return t.length?e/t.length:0}function r(t,i,e,s,a,o,n,h){var p=[];return o>a&&o-a>y/2+1e-4?(p=p.concat(r(t,i,e,s,a,a+y/2,n,h)),p=p.concat(r(t,i,e,s,a+y/2,o,n,h))):o<a&&a-o>y/2+1e-4?(p=p.concat(r(t,i,e,s,a,a-y/2,n,h)),p=p.concat(r(t,i,e,s,a-y/2,o,n,h))):(p=o-a,p=["C",t+e*b(a)-e*m*p*f(a)+n,i+s*f(a)+s*m*p*b(a)+h,t+e*b(o)+e*m*p*f(o)+n,i+s*f(o)-s*m*p*b(o)+h,t+e*b(o)+n,i+s*f(o)+h]),p}function a(t,i){var e,s=t.plotLeft,r=t.plotWidth+s,a=t.plotTop,o=t.plotHeight+a,n=s+t.plotWidth/2,p=a+t.plotHeight/2,l=Number.MAX_VALUE,c=-Number.MAX_VALUE,d=Number.MAX_VALUE,u=-Number.MAX_VALUE,y=1;return e=[{x:s,y:a,z:0},{x:s,y:a,z:i}],h([0,1],function(t){e.push({x:r,y:e[t].y,z:e[t].z})}),h([0,1,2,3],function(t){e.push({x:e[t].x,y:o,z:e[t].z})}),e=g(e,t,!1),h(e,function(t){l=Math.min(l,t.x),c=Math.max(c,t.x),d=Math.min(d,t.y),u=Math.max(u,t.y)}),s>l&&(y=Math.min(y,1-Math.abs((s+n)/(l+n))%1)),r<c&&(y=Math.min(y,(r-n)/(c-n))),a>d&&(y=d<0?Math.min(y,(a+p)/(-d+a+p)):Math.min(y,1-(a+p)/(d+p)%1)),o<u&&(y=Math.min(y,Math.abs((o-p)/(u-p)))),y}function o(e){if(this.chart.is3d()){var s=this.chart.options.plotOptions.column.grouping;void 0===s||s||void 0===this.group.zIndex||this.zIndexSet||(this.group.attr({zIndex:10*this.group.zIndex}),this.zIndexSet=!0);var r=this.options,a=this.options.states;this.borderWidth=r.borderWidth=i(r.edgeWidth)?r.edgeWidth:1,t.each(this.data,function(i){null!==i.y&&(i=i.pointAttr,this.borderColor=t.pick(r.edgeColor,i[""].fill),i[""].stroke=this.borderColor,i.hover.stroke=t.pick(a.hover.edgeColor,this.borderColor),i.select.stroke=t.pick(a.select.edgeColor,this.borderColor))})}e.apply(this,[].slice.call(arguments,1))}var n=t.animObject,h=t.each,p=t.extend,l=t.inArray,c=t.merge,d=t.pick,u=t.wrap,y=Math.PI,x=y/180,f=Math.sin,b=Math.cos,z=Math.round,g=t.perspective=function(i,e,s){var r=e.options.chart.options3d,a=!!s&&e.inverted,o=e.plotWidth/2,n=e.plotHeight/2,h=r.depth/2,p=d(r.depth,1)*d(r.viewDistance,0),l=e.scale3d||1,c=x*r.beta*(a?-1:1),r=x*r.alpha*(a?-1:1),u=b(r),y=b(-c),z=f(r),g=f(-c);return s||(o+=e.plotLeft,n+=e.plotTop),t.map(i,function(t){var i;i=-z*g*((a?t.y:t.x)-o)+u*((a?t.x:t.y)-n)-y*z*((t.z||0)-h);var e=u*g*((a?t.y:t.x)-o)+z*((a?t.x:t.y)-n)+u*y*((t.z||0)-h),s=p>0&&p<Number.POSITIVE_INFINITY?p/(e+h+p):1;return t=(y*((a?t.y:t.x)-o)-g*((t.z||0)-h))*s,i*=s,t=t*l+o,i=i*l+n,{x:a?i:t,y:a?t:i,z:e*l+h}})},m=4*(Math.sqrt(2)-1)/3/(y/2);t.SVGRenderer.prototype.toLinePath=function(i,e){var s=[];return t.each(i,function(t){s.push("L",t.x,t.y)}),i.length&&(s[0]="M",e&&s.push("Z")),s},t.SVGRenderer.prototype.cuboid=function(e){var s=this.g(),e=this.cuboidPath(e);return s.front=this.path(e[0]).attr({zIndex:e[3],"stroke-linejoin":"round"}).add(s),s.top=this.path(e[1]).attr({zIndex:e[4],"stroke-linejoin":"round"}).add(s),s.side=this.path(e[2]).attr({zIndex:e[5],"stroke-linejoin":"round"}).add(s),s.fillSetter=function(i){var e=t.Color(i).brighten(.1).get(),s=t.Color(i).brighten(-.1).get();return this.front.attr({fill:i}),this.top.attr({fill:e}),this.side.attr({fill:s}),this.color=i,this},s.opacitySetter=function(t){return this.front.attr({opacity:t}),this.top.attr({opacity:t}),this.side.attr({opacity:t}),this},s.attr=function(e){return e.shapeArgs||i(e.x)?(e=this.renderer.cuboidPath(e.shapeArgs||e),this.front.attr({d:e[0],zIndex:e[3]}),this.top.attr({d:e[1],zIndex:e[4]}),this.side.attr({d:e[2],zIndex:e[5]}),this):t.SVGElement.prototype.attr.call(this,e)},s.animate=function(e,s,r){return i(e.x)&&i(e.y)?(e=this.renderer.cuboidPath(e),this.front.attr({zIndex:e[3]}).animate({d:e[0]},s,r),this.top.attr({zIndex:e[4]}).animate({d:e[1]},s,r),this.side.attr({zIndex:e[5]}).animate({d:e[2]},s,r),this.attr({zIndex:-e[6]})):e.opacity?(this.front.animate(e,s,r),this.top.animate(e,s,r),this.side.animate(e,s,r)):t.SVGElement.prototype.animate.call(this,e,s,r),this},s.destroy=function(){return this.front.destroy(),this.top.destroy(),this.side.destroy(),null},s.attr({zIndex:-e[6]}),s},t.SVGRenderer.prototype.cuboidPath=function(i){function r(t){return d[t]}var a=i.x,o=i.y,n=i.z,h=i.height,p=i.width,l=i.depth,c=t.map,d=[{x:a,y:o,z:n},{x:a+p,y:o,z:n},{x:a+p,y:o+h,z:n},{x:a,y:o+h,z:n},{x:a,y:o+h,z:n+l},{x:a+p,y:o+h,z:n+l},{x:a+p,y:o,z:n+l},{x:a,y:o,z:n+l}],d=g(d,t.charts[this.chartIndex],i.insidePlotArea),n=function(t,i){var s=[],t=c(t,r),i=c(i,r);return e(t)<0?s=t:e(i)<0&&(s=i),s},i=n([3,2,1,0],[7,6,5,4]),a=[4,5,2,3],o=n([1,6,7,0],a),n=n([1,2,5,6],[0,7,4,3]);return[this.toLinePath(i,!0),this.toLinePath(o,!0),this.toLinePath(n,!0),s(i),s(o),s(n),9e9*s(c(a,r))]},t.SVGRenderer.prototype.arc3d=function(i){function e(t){var i,e=!1,s={};for(i in t)l(i,a)!==-1&&(s[i]=t[i],delete t[i],e=!0);return!!e&&s}var s=this.g(),r=s.renderer,a="x,y,r,innerR,start,end".split(","),i=c(i);return i.alpha*=x,i.beta*=x,s.top=r.path(),s.side1=r.path(),s.side2=r.path(),s.inn=r.path(),s.out=r.path(),s.onAdd=function(){var t=s.parentGroup;s.top.add(s),s.out.add(t),s.inn.add(t),s.side1.add(t),s.side2.add(t)},s.setPaths=function(t){var i=s.renderer.arc3dPath(t),e=100*i.zTop;s.attribs=t,s.top.attr({d:i.top,zIndex:i.zTop}),s.inn.attr({d:i.inn,zIndex:i.zInn}),s.out.attr({d:i.out,zIndex:i.zOut}),s.side1.attr({d:i.side1,zIndex:i.zSide1}),s.side2.attr({d:i.side2,zIndex:i.zSide2}),s.zIndex=e,s.attr({zIndex:e}),t.center&&(s.top.setRadialReference(t.center),delete t.center)},s.setPaths(i),s.fillSetter=function(i){var e=t.Color(i).brighten(-.1).get();return this.fill=i,this.side1.attr({fill:e}),this.side2.attr({fill:e}),this.inn.attr({fill:e}),this.out.attr({fill:e}),this.top.attr({fill:i}),this},h(["opacity","translateX","translateY","visibility"],function(t){s[t+"Setter"]=function(t,i){s[i]=t,h(["out","inn","side1","side2","top"],function(e){s[e].attr(i,t)})}}),u(s,"attr",function(t,i,r){var a;return"object"==typeof i&&(a=e(i))&&(p(s.attribs,a),s.setPaths(s.attribs)),t.call(this,i,r)}),u(s,"animate",function(t,i,s,r){var a,o,h,p=this.attribs;return delete i.center,delete i.z,delete i.depth,delete i.alpha,delete i.beta,h=n(d(s,this.renderer.globalAnimation)),h.duration&&(i=c(i),a=e(i))&&(o=a,h.step=function(t,i){function e(t){return p[t]+(d(o[t],p[t])-p[t])*i.pos}i.elem.setPaths(c(p,{x:e("x"),y:e("y"),r:e("r"),innerR:e("innerR"),start:e("start"),end:e("end")}))}),t.call(this,i,s,r)}),s.destroy=function(){this.top.destroy(),this.out.destroy(),this.inn.destroy(),this.side1.destroy(),this.side2.destroy(),t.SVGElement.prototype.destroy.call(this)},s.hide=function(){this.top.hide(),this.out.hide(),this.inn.hide(),this.side1.hide(),this.side2.hide()},s.show=function(){this.top.show(),this.out.show(),this.inn.show(),this.side1.show(),this.side2.show()},s},t.SVGRenderer.prototype.arc3dPath=function(t){function i(t){return t%=2*y,t>y&&(t=2*y-t),t}var e=t.x,s=t.y,a=t.start,o=t.end-1e-5,n=t.r,h=t.innerR,p=t.depth,l=t.alpha,c=t.beta,d=b(a),u=f(a),t=b(o),x=f(o),z=n*b(c);n*=b(l);var g=h*b(c),m=h*b(l),h=p*f(c),v=p*f(l),p=["M",e+z*d,s+n*u],p=p.concat(r(e,s,z,n,a,o,0,0)),p=p.concat(["L",e+g*t,s+m*x]),p=p.concat(r(e,s,g,m,o,a,0,0)),p=p.concat(["Z"]),A=c>0?y/2:0,c=l>0?0:y/2,A=a>-A?a:o>-A?-A:a,w=o<y-c?o:a<y-c?y-c:o,k=2*y-c,l=["M",e+z*b(A),s+n*f(A)],l=l.concat(r(e,s,z,n,A,w,0,0));return o>k&&a<k?(l=l.concat(["L",e+z*b(w)+h,s+n*f(w)+v]),l=l.concat(r(e,s,z,n,w,k,h,v)),l=l.concat(["L",e+z*b(k),s+n*f(k)]),l=l.concat(r(e,s,z,n,k,o,0,0)),l=l.concat(["L",e+z*b(o)+h,s+n*f(o)+v]),l=l.concat(r(e,s,z,n,o,k,h,v)),l=l.concat(["L",e+z*b(k),s+n*f(k)]),l=l.concat(r(e,s,z,n,k,w,0,0))):o>y-c&&a<y-c&&(l=l.concat(["L",e+z*b(w)+h,s+n*f(w)+v]),l=l.concat(r(e,s,z,n,w,o,h,v)),l=l.concat(["L",e+z*b(o),s+n*f(o)]),l=l.concat(r(e,s,z,n,o,w,0,0))),l=l.concat(["L",e+z*b(w)+h,s+n*f(w)+v]),l=l.concat(r(e,s,z,n,w,A,h,v)),l=l.concat(["Z"]),c=["M",e+g*d,s+m*u],c=c.concat(r(e,s,g,m,a,o,0,0)),c=c.concat(["L",e+g*b(o)+h,s+m*f(o)+v]),c=c.concat(r(e,s,g,m,o,a,h,v)),c=c.concat(["Z"]),d=["M",e+z*d,s+n*u,"L",e+z*d+h,s+n*u+v,"L",e+g*d+h,s+m*u+v,"L",e+g*d,s+m*u,"Z"],e=["M",e+z*t,s+n*x,"L",e+z*t+h,s+n*x+v,"L",e+g*t+h,s+m*x+v,"L",e+g*t,s+m*x,"Z"],x=Math.atan2(v,-h),s=Math.abs(o+x),t=Math.abs(a+x),a=Math.abs((a+o)/2+x),s=i(s),t=i(t),a=i(a),a*=1e5,o=1e5*t,s*=1e5,{top:p,zTop:1e5*y+1,out:l,zOut:Math.max(a,o,s),inn:c,zInn:Math.max(a,o,s),side1:d,zSide1:.99*s,side2:e,zSide2:.99*o}},t.Chart.prototype.is3d=function(){return this.options.chart.options3d&&this.options.chart.options3d.enabled},t.wrap(t.Chart.prototype,"isInsidePlot",function(t){return this.is3d()||t.apply(this,[].slice.call(arguments,1))}),t.getOptions().chart.options3d={enabled:!1,alpha:0,beta:0,depth:100,fitToPlot:!0,viewDistance:25,frame:{bottom:{size:1,color:"rgba(255,255,255,0)"},side:{size:1,color:"rgba(255,255,255,0)"},back:{size:1,color:"rgba(255,255,255,0)"}}},t.wrap(t.Chart.prototype,"init",function(i){var e,s=[].slice.call(arguments,1);s[0].chart&&s[0].chart.options3d&&s[0].chart.options3d.enabled&&(s[0].chart.options3d.alpha=(s[0].chart.options3d.alpha||0)%360,s[0].chart.options3d.beta=(s[0].chart.options3d.beta||0)%360,e=s[0].plotOptions||{},e=e.pie||{},e.borderColor=t.pick(e.borderColor,void 0)),i.apply(this,s)}),t.wrap(t.Chart.prototype,"setChartSize",function(t){var i=this.options.chart.options3d;if(t.apply(this,[].slice.call(arguments,1)),this.is3d()){var e=this.inverted,s=this.clipBox,r=this.margin;s[e?"y":"x"]=-(r[3]||0),s[e?"x":"y"]=-(r[0]||0),s[e?"height":"width"]=this.chartWidth+(r[3]||0)+(r[1]||0),s[e?"width":"height"]=this.chartHeight+(r[0]||0)+(r[2]||0),this.scale3d=1,i.fitToPlot===!0&&(this.scale3d=a(this,i.depth))}}),t.wrap(t.Chart.prototype,"redraw",function(t){this.is3d()&&(this.isDirtyBox=!0),t.apply(this,[].slice.call(arguments,1))}),t.wrap(t.Chart.prototype,"renderSeries",function(t){var i=this.series.length;if(this.is3d())for(;i--;)t=this.series[i],t.translate(),t.render();else t.call(this)}),t.Chart.prototype.retrieveStacks=function(i){var e,s=this.series,r={},a=1;return t.each(this.series,function(t){e=d(t.options.stack,i?0:s.length-1-t.index),r[e]?r[e].series.push(t):(r[e]={series:[t],position:a},a++)}),r.totalStacks=a+1,r},t.wrap(t.Axis.prototype,"setOptions",function(i,e){var s;i.call(this,e),this.chart.is3d()&&(s=this.options,s.tickWidth=t.pick(s.tickWidth,0),s.gridLineWidth=t.pick(s.gridLineWidth,1))}),t.wrap(t.Axis.prototype,"render",function(t){if(t.apply(this,[].slice.call(arguments,1)),this.chart.is3d()){var i=this.chart,e=i.renderer,s=i.options.chart.options3d,r=s.frame,a=r.bottom,o=r.back,r=r.side,n=s.depth,h=this.height,p=this.width,l=this.left,c=this.top;this.isZAxis||(this.horiz?(o={x:l,y:c+(i.xAxis[0].opposite?-a.size:h),z:0,width:p,height:a.size,depth:n,insidePlotArea:!1},this.bottomFrame?this.bottomFrame.animate(o):this.bottomFrame=e.cuboid(o).attr({fill:a.color,zIndex:i.yAxis[0].reversed&&s.alpha>0?4:-1}).css({stroke:a.color}).add()):(s={x:l+(i.yAxis[0].opposite?0:-r.size),y:c+(i.xAxis[0].opposite?-a.size:0),z:n,width:p+r.size,height:h+a.size,depth:o.size,insidePlotArea:!1},this.backFrame?this.backFrame.animate(s):this.backFrame=e.cuboid(s).attr({fill:o.color,zIndex:-3}).css({stroke:o.color}).add(),i={x:l+(i.yAxis[0].opposite?p:-r.size),y:c+(i.xAxis[0].opposite?-a.size:0),z:0,width:r.size,height:h+a.size,depth:n,insidePlotArea:!1},this.sideFrame?this.sideFrame.animate(i):this.sideFrame=e.cuboid(i).attr({fill:r.color,zIndex:-2}).css({stroke:r.color}).add()))}}),t.wrap(t.Axis.prototype,"getPlotLinePath",function(t){var i=t.apply(this,[].slice.call(arguments,1));if(!this.chart.is3d())return i;if(null===i)return i;var e=this.chart,s=e.options.chart.options3d,e=this.isZAxis?e.plotWidth:s.depth,s=this.opposite;return this.horiz&&(s=!s),i=[this.swapZ({x:i[1],y:i[2],z:s?e:0}),this.swapZ({x:i[1],y:i[2],z:e}),this.swapZ({x:i[4],y:i[5],z:e}),this.swapZ({x:i[4],y:i[5],z:s?0:e})],i=g(i,this.chart,!1),i=this.chart.renderer.toLinePath(i,!1)}),t.wrap(t.Axis.prototype,"getLinePath",function(t){return this.chart.is3d()?[]:t.apply(this,[].slice.call(arguments,1))}),t.wrap(t.Axis.prototype,"getPlotBandPath",function(t){if(!this.chart.is3d())return t.apply(this,[].slice.call(arguments,1));var i=arguments,e=i[1],i=this.getPlotLinePath(i[2]);return(e=this.getPlotLinePath(e))&&i?e.push("L",i[10],i[11],"L",i[7],i[8],"L",i[4],i[5],"L",i[1],i[2]):e=null,e}),t.wrap(t.Tick.prototype,"getMarkPath",function(t){var i=t.apply(this,[].slice.call(arguments,1));return this.axis.chart.is3d()?(i=[this.axis.swapZ({x:i[1],y:i[2],z:0}),this.axis.swapZ({x:i[4],y:i[5],z:0})],i=g(i,this.axis.chart,!1),i=["M",i[0].x,i[0].y,"L",i[1].x,i[1].y]):i}),t.wrap(t.Tick.prototype,"getLabelPosition",function(t){var i=t.apply(this,[].slice.call(arguments,1));return this.axis.chart.is3d()&&(i=g([this.axis.swapZ({x:i.x,y:i.y,z:0})],this.axis.chart,!1)[0]),i}),t.wrap(t.Axis.prototype,"getTitlePosition",function(t){var i,e,s=this.chart.is3d();return s&&(e=this.axisTitleMargin,this.axisTitleMargin=0),i=t.apply(this,[].slice.call(arguments,1)),s&&(i=g([this.swapZ({x:i.x,y:i.y,z:0})],this.chart,!1)[0],i[this.horiz?"y":"x"]+=(this.horiz?1:-1)*(this.opposite?-1:1)*e,this.axisTitleMargin=e),i}),t.wrap(t.Axis.prototype,"drawCrosshair",function(t){var i=arguments;this.chart.is3d()&&i[2]&&(i[2]={plotX:i[2].plotXold||i[2].plotX,plotY:i[2].plotYold||i[2].plotY}),t.apply(this,[].slice.call(i,1))}),t.Axis.prototype.swapZ=function(t,i){if(this.isZAxis){var e=i?0:this.chart.plotLeft,s=this.chart;return{x:e+(s.yAxis[0].opposite?t.z:s.xAxis[0].width-t.z),y:t.y,z:t.x-e}}return t};var v=t.ZAxis=function(){this.isZAxis=!0,this.init.apply(this,arguments)};t.extend(v.prototype,t.Axis.prototype),t.extend(v.prototype,{setOptions:function(i){i=t.merge({offset:0,lineWidth:0},i),t.Axis.prototype.setOptions.call(this,i),this.coll="zAxis"},setAxisSize:function(){t.Axis.prototype.setAxisSize.call(this),this.width=this.len=this.chart.options.chart.options3d.depth,this.right=this.chart.chartWidth-this.width-this.left},getSeriesExtremes:function(){var i=this,e=i.chart;i.hasVisibleSeries=!1,i.dataMin=i.dataMax=i.ignoreMinPadding=i.ignoreMaxPadding=null,i.buildStacks&&i.buildStacks(),t.each(i.series,function(t){!t.visible&&e.options.chart.ignoreHiddenSeries||(i.hasVisibleSeries=!0,t=t.zData,t.length&&(i.dataMin=Math.min(d(i.dataMin,t[0]),Math.min.apply(null,t)),i.dataMax=Math.max(d(i.dataMax,t[0]),Math.max.apply(null,t))))})}}),t.wrap(t.Chart.prototype,"getAxes",function(i){var e=this,s=this.options,s=s.zAxis=t.splat(s.zAxis||{});i.call(this),e.is3d()&&(this.zAxis=[],t.each(s,function(t,i){t.index=i,t.isX=!0,new v(e,t).setScale()}))}),t.wrap(t.seriesTypes.column.prototype,"translate",function(i){if(i.apply(this,[].slice.call(arguments,1)),this.chart.is3d()){var e=this.chart,s=this.options,r=s.depth||25,a=(s.stacking?s.stack||0:this._i)*(r+(s.groupZPadding||1));s.grouping!==!1&&(a=0),a+=s.groupZPadding||1,t.each(this.data,function(t){if(null!==t.y){var i=t.shapeArgs,s=t.tooltipPos;t.shapeType="cuboid",i.z=a,i.depth=r,i.insidePlotArea=!0,s=g([{x:s[0],y:s[1],z:a}],e,!0)[0],t.tooltipPos=[s.x,s.y]}}),this.z=a}}),t.wrap(t.seriesTypes.column.prototype,"animate",function(i){if(this.chart.is3d()){var e=arguments[1],s=this.yAxis,r=this,a=this.yAxis.reversed;t.svg&&(e?t.each(r.data,function(t){null===t.y||(t.height=t.shapeArgs.height,t.shapey=t.shapeArgs.y,t.shapeArgs.height=1,a)||(t.shapeArgs.y=t.stackY?t.plotY+s.translate(t.stackY):t.plotY+(t.negative?-t.height:t.height))}):(t.each(r.data,function(t){null!==t.y&&(t.shapeArgs.height=t.height,t.shapeArgs.y=t.shapey,t.graphic&&t.graphic.animate(t.shapeArgs,r.options.animation))}),this.drawDataLabels(),r.animate=null))}else i.apply(this,[].slice.call(arguments,1))}),t.wrap(t.seriesTypes.column.prototype,"init",function(t){if(t.apply(this,[].slice.call(arguments,1)),this.chart.is3d()){var i=this.options,e=i.grouping,s=i.stacking,r=d(this.yAxis.options.reversedStacks,!0),a=0;if(void 0===e||e){for(e=this.chart.retrieveStacks(s),a=i.stack||0,s=0;s<e[a].series.length&&e[a].series[s]!==this;s++);a=10*(e.totalStacks-e[a].position)+(r?s:-s),this.xAxis.reversed||(a=10*e.totalStacks-a)}i.zIndex=a}}),t.wrap(t.Series.prototype,"alignDataLabel",function(t){if(this.chart.is3d()&&("column"===this.type||"columnrange"===this.type)){var i=arguments[4],e={x:i.x,y:i.y,z:this.z},e=g([e],this.chart,!0)[0];i.x=e.x,i.y=e.y}t.apply(this,[].slice.call(arguments,1))}),t.seriesTypes.columnrange&&t.wrap(t.seriesTypes.columnrange.prototype,"drawPoints",o),t.wrap(t.seriesTypes.column.prototype,"drawPoints",o),t.wrap(t.seriesTypes.pie.prototype,"translate",function(t){if(t.apply(this,[].slice.call(arguments,1)),this.chart.is3d()){var i=this,e=i.options,s=e.depth||0,r=i.chart.options.chart.options3d,a=r.alpha,o=r.beta,n=e.stacking?(e.stack||0)*s:i._i*s;n+=s/2,e.grouping!==!1&&(n=0),h(i.data,function(t){var r=t.shapeArgs;t.shapeType="arc3d",r.z=n,r.depth=.75*s,r.alpha=a,r.beta=o,r.center=i.center,r=(r.end+r.start)/2,t.slicedTranslation={translateX:z(b(r)*e.slicedOffset*b(a*x)),translateY:z(f(r)*e.slicedOffset*b(a*x))}})}}),t.wrap(t.seriesTypes.pie.prototype.pointClass.prototype,"haloPath",function(t){var i=arguments;return this.series.chart.is3d()?[]:t.call(this,i[1])}),t.wrap(t.seriesTypes.pie.prototype,"drawPoints",function(i){var e=this.options,s=e.states;this.chart.is3d()&&(this.borderWidth=e.borderWidth=e.edgeWidth||1,this.borderColor=e.edgeColor=t.pick(e.edgeColor,e.borderColor,void 0),s.hover.borderColor=t.pick(s.hover.edgeColor,this.borderColor),s.hover.borderWidth=t.pick(s.hover.edgeWidth,this.borderWidth),s.select.borderColor=t.pick(s.select.edgeColor,this.borderColor),s.select.borderWidth=t.pick(s.select.edgeWidth,this.borderWidth),h(this.data,function(t){var i=t.pointAttr;i[""].stroke=t.series.borderColor||t.color,i[""]["stroke-width"]=t.series.borderWidth,i.hover.stroke=s.hover.borderColor,i.hover["stroke-width"]=s.hover.borderWidth,i.select.stroke=s.select.borderColor,i.select["stroke-width"]=s.select.borderWidth})),i.apply(this,[].slice.call(arguments,1)),this.chart.is3d()&&h(this.points,function(t){var i=t.graphic;i&&i[t.y&&t.visible?"show":"hide"]()})}),t.wrap(t.seriesTypes.pie.prototype,"drawDataLabels",function(t){if(this.chart.is3d()){var i=this.chart.options.chart.options3d;h(this.data,function(t){var e=t.shapeArgs,s=e.r,r=(e.beta||i.beta)*x,a=(e.start+e.end)/2,o=t.labelPos,n=-s*(1-b((e.alpha||i.alpha)*x))*f(a),p=s*(b(r)-1)*b(a);h([0,2,4],function(t){o[t]+=p,o[t+1]+=n})})}t.apply(this,[].slice.call(arguments,1))}),t.wrap(t.seriesTypes.pie.prototype,"addPoint",function(t){t.apply(this,[].slice.call(arguments,1)),this.chart.is3d()&&this.update(this.userOptions,!0)}),t.wrap(t.seriesTypes.pie.prototype,"animate",function(i){if(this.chart.is3d()){var e=arguments[1],s=this.options.animation,r=this.center,a=this.group,o=this.markerGroup;t.svg&&(s===!0&&(s={}),e?(a.oldtranslateX=a.translateX,a.oldtranslateY=a.translateY,e={translateX:r[0],translateY:r[1],scaleX:.001,scaleY:.001},a.attr(e),o&&(o.attrSetters=a.attrSetters,o.attr(e))):(e={translateX:a.oldtranslateX,translateY:a.oldtranslateY,scaleX:1,scaleY:1},a.animate(e,s),o&&o.animate(e,s),this.animate=null))}else i.apply(this,[].slice.call(arguments,1))}),t.wrap(t.seriesTypes.scatter.prototype,"translate",function(i){if(i.apply(this,[].slice.call(arguments,1)),this.chart.is3d()){var e,s,r,a=this.chart,o=t.pick(this.zAxis,a.options.zAxis[0]),n=[];for(r=0;r<this.data.length;r++)e=this.data[r],s=o.isLog&&o.val2lin?o.val2lin(e.z):e.z,e.plotZ=o.translate(s),e.isInside=!!e.isInside&&(s>=o.min&&s<=o.max),n.push({x:e.plotX,y:e.plotY,z:e.plotZ});for(a=g(n,a,!0),r=0;r<this.data.length;r++)e=this.data[r],o=a[r],e.plotXold=e.plotX,e.plotYold=e.plotY,e.plotZold=e.plotZ,e.plotX=o.x,e.plotY=o.y,e.plotZ=o.z}}),t.wrap(t.seriesTypes.scatter.prototype,"init",function(t,i,e){return i.is3d()&&(this.axisTypes=["xAxis","yAxis","zAxis"],this.pointArrayMap=["x","y","z"],this.parallelArrays=["x","y","z"],this.directTouch=!0),t=t.apply(this,[i,e]),this.chart.is3d()&&(this.tooltipOptions.pointFormat=this.userOptions.tooltip?this.userOptions.tooltip.pointFormat||"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>z: <b>{point.z}</b><br/>":"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>z: <b>{point.z}</b><br/>"),t}),t.VMLRenderer&&(t.setOptions({animate:!1}),t.VMLRenderer.prototype.cuboid=t.SVGRenderer.prototype.cuboid,t.VMLRenderer.prototype.cuboidPath=t.SVGRenderer.prototype.cuboidPath,t.VMLRenderer.prototype.toLinePath=t.SVGRenderer.prototype.toLinePath,t.VMLRenderer.prototype.createElement3D=t.SVGRenderer.prototype.createElement3D,t.VMLRenderer.prototype.arc3d=function(i){return i=t.SVGRenderer.prototype.arc3d.call(this,i),i.css({zIndex:i.zIndex}),i},t.VMLRenderer.prototype.arc3dPath=t.SVGRenderer.prototype.arc3dPath,t.wrap(t.Axis.prototype,"render",function(t){t.apply(this,[].slice.call(arguments,1)),this.sideFrame&&(this.sideFrame.css({zIndex:0}),this.sideFrame.front.attr({fill:this.sideFrame.color})),this.bottomFrame&&(this.bottomFrame.css({zIndex:1}),this.bottomFrame.front.attr({fill:this.bottomFrame.color})),this.backFrame&&(this.backFrame.css({zIndex:0}),this.backFrame.front.attr({fill:this.backFrame.color}))}))});